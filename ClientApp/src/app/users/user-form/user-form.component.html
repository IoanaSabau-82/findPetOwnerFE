<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <mat-card class="user-form">
    <div class="row">
      <div class="col">
        <app-text-input [label]="'first name'">
          <input matInput formControlName="firstName" />
        </app-text-input>
      </div>
      <div class="col">
        <app-text-input [label]="'last name'">
          <input matInput formControlName="lastName" />
        </app-text-input>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>email</mat-label>
          <input
            matInput
            #input
            type="email"
            name="email"
            formControlName="email"
          />
          <mat-hint align="end"
            >max 50 characters {{ input.value.length || 0 }}/50</mat-hint
          >
          <mat-error *ngIf="!email?.valid && (email?.dirty || email?.touched)">
            <mat-error *ngIf="email?.errors?.['required']">
              Email is required.
            </mat-error>
            <mat-error *ngIf="email?.errors?.['email']">
              Is not an email format.
            </mat-error>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>phone</mat-label>
          <input matInput type="text" name="phone" formControlName="phone" />
          <mat-hint align="end">digits and - only</mat-hint>
          <mat-error *ngIf="!phone?.valid && (phone?.dirty || phone?.touched)">
            <mat-error *ngIf="phone?.errors?.['required']">
              Phone is required.
            </mat-error>
            <mat-error *ngIf="phone?.errors?.['pattern']">
              Only digits and - are allowed
            </mat-error>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>address</mat-label>
          <input
            matInput
            #input
            type="text"
            name="address"
            formControlName="address"
          />
          <mat-hint align="end"
            >maximim 50 characters {{ input.value.length || 0 }}/50</mat-hint
          >
          <mat-error
            *ngIf="!address?.valid && (address?.dirty || address?.touched)"
          >
            <mat-error *ngIf="address?.errors?.['required']">
              Address is required.
            </mat-error>
            <mat-error *ngIf="address?.errors?.['maxlength']">
              Address must be maximum 50 characters long.
            </mat-error>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <mat-card-actions>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!userForm.valid"
      >
        Submit
      </button>
    </mat-card-actions>
  </mat-card>
</form>
